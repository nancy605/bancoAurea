<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">

    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Q58HcF3x7hAnsh7Ilg8Zn6KsmE4w8V6fZT1jMO6ItBCZ8oHDbq2o1cnFl7AHZQ0s" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.9/dist/sweetalert2.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.9/dist/sweetalert2.min.js"></script>

    <script type="text/javascript">
        var cajas_radios;
        var conexion; 

        function addEvent(ele, eve, fun, cap) {
            if (ele.attachEvent)
                ele.attachEvent('on' + eve, fun);
            else
                ele.addEventListener(eve, fun, cap);
        }

        addEvent(window, 'load', cargar, false);

        function cargar() {
            cajas_radios = document.getElementsByTagName("input");
            var boton = document.getElementsByClassName("btn_sesionC")[0];
            addEvent(boton, 'click', validaDatos, false);
        }

        function validaDatos(event) {
            event.preventDefault();  // Evitar la recarga de la página

            if (cajas_radios[0].value !== "" && 
                cajas_radios[1].value !== "") {
                conexionServidor();
            } else {
                Swal.fire({
                    title: "Falta algún dato",
                    confirmButtonText: "Confirmar"
                });
            }
        }

        function conexionServidor(){
            conexion = xmlhttprequest();
            conexion.onreadystatechange = esperaRespuesta;
            conexion.open("POST","loginCli.php",true);   
            conexion.setRequestHeader("Content-type","application/x-www-form-urlencoded"); 
            conexion.send("email=" + cajas_radios[0].value + "&password=" + cajas_radios[1].value);
        }

        function esperaRespuesta(){
            if(conexion.readyState == 4){
                if (conexion.status == 200) {
                    var responseText = conexion.responseText;
                    if (responseText === "Inicio de sesión exitoso") {
                        Swal.fire({
                            title: "Éxito",
                            text: responseText,
                            confirmButtonText: "Confirmar"
                        }).then(() => {
                            window.location.href = "DatosCli.php";
                        });
                    } else {
                        Swal.fire({
                            title: "Error",
                            text: responseText,
                            confirmButtonText: "Confirmar"
                        });
                    }
                } else {
                    Swal.fire({
                        title: "Error",
                        text: "Hubo un problema con la conexión.",
                        confirmButtonText: "Confirmar"
                    });
                }
            } 
        }

        function xmlhttprequest(){
            return new XMLHttpRequest();
        }
    </script>
    <title>INICIAR SESIÓN</title>
</head>
<body>
    <section class="form-02-main">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="_lk_de">
                        <div class="form-03-main">
                            <div class="logo">
                                <img src="assets/images/user.png" alt="User Icon">
                                <span class="logo-text">Banco Áurea</span>
                            </div>
                            <form>
                                <div class="form-group">
                                    <input type="email" name="email" class="form-control _ge_de_ol SesionCli" placeholder="Email" required="" aria-required="true">
                                </div>
                                <div class="form-group">
                                    <input type="password" name="password" class="form-control _ge_de_ol SesionCli" placeholder="Password" required="" aria-required="true">
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn_sesionC">INICIAR SESIÓN</button>
                                </div>
                            </form>
                            <div class="form-group">
                                <center><p>INGRESAR CON</p></center>
                            </div>
                            <div class="form-group pt-0">
                                <div class="_social_04">
                                    <ol>
                                        <li><a href="https://www.facebook.com" target="_blank"><i class="fa fa-facebook"></i></a></li>
                                        <li><a href="https://www.twitter.com" target="_blank"><i class="fa fa-twitter"></i></a></li>
                                        <li><a href="https://www.Gmail.com" target="_blank"><i class="fa fa-google-plus"></i></a></li>
                                        <li><a href="https://www.instagram.com" target="_blank"><i class="fa fa-instagram"></i></a></li>
                                        <li><a href="https://www.linkedin.com" target="_blank"><i class="fa fa-linkedin"></i></a></li>
                                    </ol>
                                </div>
                            </div>
                            <div class="form-group">
                                <a href="Bienvenida.html" class="btn-regresar"><i class="fa fa-arrow-left"></i> Regresar</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>sss